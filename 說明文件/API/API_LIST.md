# ğŸ“‹ å¾Œç«¯ API å®Œæ•´åˆ—è¡¨

## ğŸ“Š çµ±è¨ˆ
- **ç¸½è¨ˆ**: 54 å€‹ API è·¯ç”±
- **ç‰ˆæœ¬**: v1
- **åŸºç¤è·¯å¾‘**: `/api/v1`

---

## ğŸ” èªè­‰ç›¸é—œ (Auth) - 6 å€‹

| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/auth/register` | POST | è¨»å†Šæ–°ç”¨æˆ¶ |
| `/api/v1/auth/login` | POST | ç™»å…¥ |
| `/api/v1/auth/logout` | POST | ç™»å‡º |
| `/api/v1/auth/refresh` | POST | åˆ·æ–° Access Token |
| `/api/v1/auth/verify-email` | GET, POST | é©—è­‰/é‡ç™¼é©—è­‰éƒµä»¶ |
| `/api/v1/auth/verify-phone` | POST, PUT | ç™¼é€/é©—è­‰æ‰‹æ©Ÿé©—è­‰ç¢¼ |

---

## ğŸ‘¤ ç”¨æˆ¶ç›¸é—œ (Users) - 9 å€‹

### ç•¶å‰ç”¨æˆ¶ (Me)
| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/users/me` | GET, PUT | å–å¾—/æ›´æ–°å€‹äººè³‡æ–™ |
| `/api/v1/users/me/avatar` | POST | ä¸Šå‚³å¤§é ­ç…§ |
| `/api/v1/users/me/password` | PUT | æ›´æ–°å¯†ç¢¼ |
| `/api/v1/users/me/skills` | PUT | æ›´æ–°æŠ€èƒ½æ¨™ç±¤ |

### å…¶ä»–ç”¨æˆ¶
| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/users/search` | GET | æœå°‹æ¥æ¡ˆè€… |
| `/api/v1/users/[id]` | GET | å–å¾—ç”¨æˆ¶è³‡æ–™ |
| `/api/v1/users/[id]/reviews` | GET | å–å¾—ç”¨æˆ¶è©•åƒ¹ |
| `/api/v1/users/[id]/reviews/stats` | GET | å–å¾—è©•åƒ¹çµ±è¨ˆ |
| `/api/v1/users/[id]/stats` | GET | å–å¾—ç”¨æˆ¶çµ±è¨ˆ |

---

## ğŸ“¦ æ¡ˆä»¶ç›¸é—œ (Projects) - 12 å€‹

### æ¡ˆä»¶åˆ—è¡¨
| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/projects` | GET, POST | å–å¾—æ¡ˆä»¶åˆ—è¡¨ / å»ºç«‹æ¡ˆä»¶ |
| `/api/v1/projects/me` | GET | å–å¾—æˆ‘çš„æ¡ˆä»¶ï¼ˆç™¼æ¡ˆè€…ï¼‰ |
| `/api/v1/projects/saved` | GET | å–å¾—æ”¶è—çš„æ¡ˆä»¶ |

### æ¡ˆä»¶è©³æƒ…
| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/projects/[id]` | GET, PUT, DELETE | å–å¾—/æ›´æ–°/åˆªé™¤æ¡ˆä»¶ |
| `/api/v1/projects/[id]/publish` | POST | ç™¼å¸ƒæ¡ˆä»¶ |
| `/api/v1/projects/[id]/cancel` | POST | å–æ¶ˆæ¡ˆä»¶ |
| `/api/v1/projects/[id]/save` | POST, DELETE | æ”¶è—/å–æ¶ˆæ”¶è—æ¡ˆä»¶ |

### æ¡ˆä»¶ç›¸é—œåŠŸèƒ½
| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/projects/[id]/bids` | GET, POST | å–å¾—/å»ºç«‹æŠ•æ¨™ |
| `/api/v1/projects/[id]/reviews` | GET, POST | å–å¾—/å»ºç«‹è©•åƒ¹ |
| `/api/v1/projects/[id]/can-review` | GET | æª¢æŸ¥æ˜¯å¦å¯ä»¥è©•åƒ¹ |
| `/api/v1/projects/[id]/messages` | GET, POST | å–å¾—/ç™¼é€æ¡ˆä»¶è¨Šæ¯ |

---

## ğŸ’° æŠ•æ¨™ç›¸é—œ (Bids) - 4 å€‹

| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/bids/me` | GET | å–å¾—æˆ‘çš„æŠ•æ¨™ï¼ˆæ¥æ¡ˆè€…ï¼‰ |
| `/api/v1/bids/[id]` | GET, PUT, DELETE | å–å¾—/æ›´æ–°/æ’¤å›æŠ•æ¨™ |
| `/api/v1/bids/[id]/accept` | POST | æ¥å—æŠ•æ¨™ï¼ˆç™¼æ¡ˆè€…ï¼‰ |
| `/api/v1/bids/[id]/reject` | POST | æ‹’çµ•æŠ•æ¨™ï¼ˆç™¼æ¡ˆè€…ï¼‰ |

---

## ğŸ’¬ å°è©±ç›¸é—œ (Conversations) - 5 å€‹

| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/conversations` | GET, POST | å–å¾—å°è©±åˆ—è¡¨ / å»ºç«‹ææ¡ˆå°è©± |
| `/api/v1/conversations/[id]` | GET | å–å¾—å–®ä¸€å°è©±è©³æƒ… |
| `/api/v1/conversations/[id]/messages` | GET, POST | å–å¾—/ç™¼é€è¨Šæ¯ |
| `/api/v1/conversations/direct` | POST | å»ºç«‹ç›´æ¥è¯çµ¡å°è©±ï¼ˆä»˜è²» 200 ä»£å¹£ï¼‰ |
| `/api/v1/conversations/unlock-proposal` | POST | è§£é–ææ¡ˆï¼ˆä»˜è²» 100 ä»£å¹£ï¼‰ |

---

## ğŸ“¨ è¨Šæ¯ç›¸é—œ (Messages) - 3 å€‹

| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/messages/conversations` | GET | å–å¾—æ‰€æœ‰å°è©±åˆ—è¡¨ |
| `/api/v1/messages/unread-count` | GET | å–å¾—æœªè®€è¨Šæ¯æ•¸é‡ |
| `/api/v1/messages/[id]/read` | PUT | æ¨™è¨˜è¨Šæ¯ç‚ºå·²è®€ |

---

## ğŸ”— é€£æ¥ç›¸é—œ (Connections) - 2 å€‹

| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/connections` | GET | å–å¾—ç•¶å‰ç”¨æˆ¶çš„æ‰€æœ‰é€£æ¥ |
| `/api/v1/connections/check` | GET | æª¢æŸ¥èˆ‡ç›®æ¨™ç”¨æˆ¶çš„é€£æ¥ç‹€æ…‹ |

---

## ğŸª™ ä»£å¹£ç›¸é—œ (Tokens) - 3 å€‹

| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/tokens/balance` | GET | å–å¾—ä»£å¹£é¤˜é¡ |
| `/api/v1/tokens/purchase` | POST | è³¼è²·ä»£å¹£ |
| `/api/v1/tokens/transactions` | GET | å–å¾—ä»£å¹£äº¤æ˜“è¨˜éŒ„ |

---

## ğŸ·ï¸ æ¨™ç±¤ç›¸é—œ (Tags) - 1 å€‹

| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/tags` | GET | å–å¾—æ¨™ç±¤åˆ—è¡¨ |

---

## ğŸ‘¨â€ğŸ’¼ ç®¡ç†å“¡ç›¸é—œ (Admin) - 6 å€‹

### çµ±è¨ˆ
| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/admin/stats` | GET | å–å¾—å¹³å°çµ±è¨ˆè³‡è¨Š |
| `/api/v1/admin/tags/stats` | GET | å–å¾—æ¨™ç±¤çµ±è¨ˆ |

### ç”¨æˆ¶ç®¡ç†
| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/admin/users` | GET | å–å¾—æ‰€æœ‰ç”¨æˆ¶åˆ—è¡¨ |
| `/api/v1/admin/users/[id]/ban` | POST | åœæ¬Šç”¨æˆ¶ |

### æ¡ˆä»¶ç®¡ç†
| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/admin/projects` | GET | å–å¾—æ‰€æœ‰æ¡ˆä»¶åˆ—è¡¨ |
| `/api/v1/admin/projects/[id]/remove` | POST | ä¸‹æ¶é•è¦æ¡ˆä»¶ |

### æ´»å‹•è¨˜éŒ„
| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/admin/activity` | GET | å–å¾—æœ€è¿‘æ´»å‹• |

---

## ğŸ¥ å¥åº·æª¢æŸ¥ (Health) - 2 å€‹

| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/health` | GET | åŸºç¤å¥åº·æª¢æŸ¥ |
| `/api/v1/health` | GET | v1 å¥åº·æª¢æŸ¥ |

---

## ğŸ”„ NextAuth (OAuth) - 1 å€‹

| è·¯å¾‘ | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/auth/[...nextauth]` | GET, POST | NextAuth OAuth è™•ç†ï¼ˆGoogleï¼‰ |

---

## ğŸ“Š åŠŸèƒ½åˆ†é¡çµ±è¨ˆ

| åˆ†é¡ | æ•¸é‡ |
|------|------|
| èªè­‰ç›¸é—œ | 6 |
| ç”¨æˆ¶ç›¸é—œ | 9 |
| æ¡ˆä»¶ç›¸é—œ | 12 |
| æŠ•æ¨™ç›¸é—œ | 4 |
| å°è©±ç›¸é—œ | 5 |
| è¨Šæ¯ç›¸é—œ | 3 |
| é€£æ¥ç›¸é—œ | 2 |
| ä»£å¹£ç›¸é—œ | 3 |
| æ¨™ç±¤ç›¸é—œ | 1 |
| ç®¡ç†å“¡ç›¸é—œ | 6 |
| å¥åº·æª¢æŸ¥ | 2 |
| OAuth | 1 |
| **ç¸½è¨ˆ** | **54** |

---

## ğŸ”‘ èªè­‰æ–¹å¼

æ‰€æœ‰ APIï¼ˆé™¤äº†å…¬é–‹çš„ï¼‰éƒ½éœ€è¦ï¼š
```
Authorization: Bearer <access_token>
```

Token å¾ `/api/v1/auth/login` æˆ– `/api/v1/auth/register` å–å¾—ã€‚

---

## ğŸ“ å‚™è¨»

- æ‰€æœ‰ API éƒ½ä½¿ç”¨ `export const dynamic = 'force-dynamic'` ç¢ºä¿å‹•æ…‹æ¸²æŸ“
- ä½¿ç”¨çµ±ä¸€çš„éŒ¯èª¤è™•ç† (`asyncHandler`)
- ä½¿ç”¨çµ±ä¸€çš„å›æ‡‰æ ¼å¼ (`successResponse`, `createdResponse`, etc.)
- æ”¯æ´åˆ†é  (`page`, `limit`)
- æ”¯æ´ç¯©é¸å’Œæœå°‹åƒæ•¸

---

**æœ€å¾Œæ›´æ–°**: 2025-12-03

