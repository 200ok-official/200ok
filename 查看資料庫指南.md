# 如何查看 Supabase 資料庫

## 方法一：透過 Supabase 網頁控制台（推薦）

### 1. 登入 Supabase 控制台

1. 前往 [https://app.supabase.com](https://app.supabase.com)
2. 使用你的帳號登入
3. 選擇你的專案（200ok）

### 2. 查看資料表結構

1. 在左側選單點擊 **Table Editor**
2. 你會看到所有資料表：
   - `users` - 使用者資料
   - `projects` - 專案資料
   - `bids` - 投標記錄
   - `messages` - 訊息
   - `reviews` - 評價
   - `notifications` - 通知
   - `payments` - 付款記錄
   - `tags` - 標籤
   - 等等...

3. 點擊任何資料表名稱即可查看該表的資料

### 3. 使用 SQL Editor 查詢資料

1. 在左側選單點擊 **SQL Editor**
2. 點擊 **New query** 建立新查詢
3. 輸入 SQL 查詢，例如：

```sql
-- 查看所有使用者
SELECT * FROM users;

-- 查看名為「陳柏宇」的使用者
SELECT * FROM users WHERE name LIKE '%陳柏宇%';

-- 查看所有接案者
SELECT * FROM users WHERE 'freelancer' = ANY(roles);

-- 查看使用者及其統計資訊
SELECT 
  u.id,
  u.name,
  u.email,
  u.rating,
  COUNT(DISTINCT p.id) as projects_created,
  COUNT(DISTINCT b.id) as bids_count
FROM users u
LEFT JOIN projects p ON p.client_id = u.id
LEFT JOIN bids b ON b.freelancer_id = u.id
WHERE u.name LIKE '%陳柏宇%'
GROUP BY u.id, u.name, u.email, u.rating;
```

4. 點擊 **Run** 執行查詢

### 4. 查看資料庫結構（Schema）

1. 在左側選單點擊 **Database**
2. 點擊 **Tables** 標籤
3. 點擊任何資料表名稱查看詳細結構（欄位、索引、外鍵等）

## 方法二：透過專案中的 SQL Schema 檔案

專案中已經有完整的資料庫結構檔案：`supabase_schema.sql`

你可以查看這個檔案來了解資料庫的完整結構。

## 方法三：透過 API 查詢（程式方式）

你也可以在專案中建立一個測試頁面來查詢資料庫。

## 快速查詢範例

### 查看所有使用者
```sql
SELECT id, name, email, roles, rating, created_at 
FROM users 
ORDER BY created_at DESC;
```

### 查看特定使用者（例如：陳柏宇）
```sql
SELECT * FROM users WHERE name = '陳柏宇';
```

### 查看使用者的完整資訊（包含統計）
```sql
SELECT 
  u.*,
  (SELECT COUNT(*) FROM projects WHERE client_id = u.id) as projects_count,
  (SELECT COUNT(*) FROM bids WHERE freelancer_id = u.id) as bids_count,
  (SELECT COUNT(*) FROM reviews WHERE reviewee_id = u.id) as reviews_count
FROM users u
WHERE u.name LIKE '%陳柏宇%';
```

## 常見問題

### Q: 找不到 Supabase 專案？
A: 確認你的 `.env` 檔案中的 `NEXT_PUBLIC_SUPABASE_URL` 是否正確，然後用該 URL 的前綴部分在 Supabase 控制台搜尋專案。

### Q: 如何知道我的 Supabase URL？
A: 檢查專案根目錄的 `.env` 檔案，找到 `NEXT_PUBLIC_SUPABASE_URL` 的值。

### Q: 資料庫是空的？
A: 如果資料庫是空的，可能需要：
1. 先註冊一些測試使用者
2. 或者使用 Supabase 的 Seed 功能匯入測試資料

